import{r as v,j as t,R as I,L as F,u as Ce}from"./index-DuWiGTwF.js";import{H as Ie,F as Te}from"./Footer-yBr2h3rY.js";import{c as M,r as fe,i as Le,f as $,a as ee,b as we,p as Me,v as ke,d as Ae,e as Re,g as De,n as be,h as Oe,s as ze,u as te,j as ye,k as ie,m as z,M as He,l as Z,o as b,A as se,q as $e}from"./proxy-CO3yACh0.js";import{X as ve}from"./x-X1SmirW-.js";import{P as _e}from"./play-BT6m-xhl.js";import{A as Fe}from"./arrow-right-5SEa3x53.js";import"./house-BfWMXIDU.js";const Be=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ae=M("chevron-down",Be);const We=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ge=M("clock",We);const qe=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Ve=M("hand",qe);const Ue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ze=M("map-pin",Ue);const Xe=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Ye=M("monitor-play",Xe);const Je=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Qe=M("qr-code",Je);const Ke=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],J=M("zoom-in",Ke),G=new WeakMap;let q;const je=(i,n,r)=>(o,l)=>l&&l[0]?l[0][i+"Size"]:Le(o)&&"getBBox"in o?o.getBBox()[n]:o[r],et=je("inline","width","offsetWidth"),tt=je("block","height","offsetHeight");function st({target:i,borderBoxSize:n}){G.get(i)?.forEach(r=>{r(i,{get width(){return et(i,n)},get height(){return tt(i,n)}})})}function it(i){i.forEach(st)}function at(){typeof ResizeObserver>"u"||(q=new ResizeObserver(it))}function nt(i,n){q||at();const r=fe(i);return r.forEach(o=>{let l=G.get(o);l||(l=new Set,G.set(o,l)),l.add(n),q?.observe(o)}),()=>{r.forEach(o=>{const l=G.get(o);l?.delete(n),l?.size||q?.unobserve(o)})}}const V=new Set;let k;function rt(){k=()=>{const i={get width(){return window.innerWidth},get height(){return window.innerHeight}};V.forEach(n=>n(i))},window.addEventListener("resize",k)}function ot(i){return V.add(i),k||rt(),()=>{V.delete(i),!V.size&&typeof k=="function"&&(window.removeEventListener("resize",k),k=void 0)}}function lt(i,n){return typeof i=="function"?ot(i):nt(i,n)}function Se(i,n){let r;const o=()=>{const{currentTime:l}=n,g=(l===null?0:l.value)/100;r!==g&&i(g),r=g};return $.preUpdate(o,!0),()=>ee(o)}function ct(...i){const n=!Array.isArray(i[0]),r=n?0:-1,o=i[0+r],l=i[1+r],d=i[2+r],g=i[3+r],m=we(l,d,g);return n?m(o):m}const ht=50,ne=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),dt=()=>({time:0,x:ne(),y:ne()}),gt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function re(i,n,r,o){const l=r[n],{length:d,position:g}=gt[n],m=l.current,j=r.time;l.current=i[`scroll${g}`],l.scrollLength=i[`scroll${d}`]-i[`client${d}`],l.offset.length=0,l.offset[0]=0,l.offset[1]=l.scrollLength,l.progress=Me(0,l.scrollLength,l.current);const x=o-j;l.velocity=x>ht?0:ke(l.current-m,x)}function pt(i,n,r){re(i,"x",n,r),re(i,"y",n,r),n.time=r}function ut(i,n){const r={x:0,y:0};let o=i;for(;o&&o!==n;)if(Ae(o))r.x+=o.offsetLeft,r.y+=o.offsetTop,o=o.offsetParent;else if(o.tagName==="svg"){const l=o.getBoundingClientRect();o=o.parentElement;const d=o.getBoundingClientRect();r.x+=l.left-d.left,r.y+=l.top-d.top}else if(o instanceof SVGGraphicsElement){const{x:l,y:d}=o.getBBox();r.x+=l,r.y+=d;let g=null,m=o.parentNode;for(;!g;)m.tagName==="svg"&&(g=m),m=o.parentNode;o=g}else break;return r}const Q={start:0,center:.5,end:1};function oe(i,n,r=0){let o=0;if(i in Q&&(i=Q[i]),typeof i=="string"){const l=parseFloat(i);i.endsWith("px")?o=l:i.endsWith("%")?i=l/100:i.endsWith("vw")?o=l/100*document.documentElement.clientWidth:i.endsWith("vh")?o=l/100*document.documentElement.clientHeight:i=l}return typeof i=="number"&&(o=n*i),r+o}const mt=[0,0];function xt(i,n,r,o){let l=Array.isArray(i)?i:mt,d=0,g=0;return typeof i=="number"?l=[i,i]:typeof i=="string"&&(i=i.trim(),i.includes(" ")?l=i.split(" "):l=[i,Q[i]?i:"0"]),d=oe(l[0],r,o),g=oe(l[1],n),d-g}const ft={All:[[0,0],[1,1]]},wt={x:0,y:0};function bt(i){return"getBBox"in i&&i.tagName!=="svg"?i.getBBox():{width:i.clientWidth,height:i.clientHeight}}function yt(i,n,r){const{offset:o=ft.All}=r,{target:l=i,axis:d="y"}=r,g=d==="y"?"height":"width",m=l!==i?ut(l,i):wt,j=l===i?{width:i.scrollWidth,height:i.scrollHeight}:bt(l),x={width:i.clientWidth,height:i.clientHeight};n[d].offset.length=0;let y=!n[d].interpolate;const S=o.length;for(let N=0;N<S;N++){const C=xt(o[N],x[g],j[g],m[d]);!y&&C!==n[d].interpolatorOffsets[N]&&(y=!0),n[d].offset[N]=C}y&&(n[d].interpolate=we(n[d].offset,Re(o),{clamp:!1}),n[d].interpolatorOffsets=[...n[d].offset]),n[d].progress=De(0,1,n[d].interpolate(n[d].current))}function vt(i,n=i,r){if(r.x.targetOffset=0,r.y.targetOffset=0,n!==i){let o=n;for(;o&&o!==i;)r.x.targetOffset+=o.offsetLeft,r.y.targetOffset+=o.offsetTop,o=o.offsetParent}r.x.targetLength=n===i?n.scrollWidth:n.clientWidth,r.y.targetLength=n===i?n.scrollHeight:n.clientHeight,r.x.containerLength=i.clientWidth,r.y.containerLength=i.clientHeight}function jt(i,n,r,o={}){return{measure:l=>{vt(i,o.target,r),pt(i,r,l),(o.offset||o.target)&&yt(i,r,o)},notify:()=>n(r)}}const O=new WeakMap,le=new WeakMap,X=new WeakMap,ce=i=>i===document.scrollingElement?window:i;function Pe(i,{container:n=document.scrollingElement,...r}={}){if(!n)return be;let o=X.get(n);o||(o=new Set,X.set(n,o));const l=dt(),d=jt(n,i,l,r);if(o.add(d),!O.has(n)){const m=()=>{for(const S of o)S.measure(Oe.timestamp);$.preUpdate(j)},j=()=>{for(const S of o)S.notify()},x=()=>$.read(m);O.set(n,x);const y=ce(n);window.addEventListener("resize",x,{passive:!0}),n!==document.documentElement&&le.set(n,lt(n,x)),y.addEventListener("scroll",x,{passive:!0}),x()}const g=O.get(n);return $.read(g,!1,!0),()=>{ee(g);const m=X.get(n);if(!m||(m.delete(d),m.size))return;const j=O.get(n);O.delete(n),j&&(ce(n).removeEventListener("scroll",j),le.get(n)?.(),window.removeEventListener("resize",j))}}const he=new Map;function St(i){const n={value:0},r=Pe(o=>{n.value=o[i.axis].progress*100},i);return{currentTime:n,cancel:r}}function Ne({source:i,container:n,...r}){const{axis:o}=r;i&&(n=i);const l=he.get(n)??new Map;he.set(n,l);const d=r.target??"self",g=l.get(d)??{},m=o+(r.offset??[]).join(",");return g[m]||(g[m]=!r.target&&ze()?new ScrollTimeline({source:n,axis:o}):St({container:n,...r})),g[m]}function Pt(i,n){const r=Ne(n);return i.attachTimeline({timeline:n.target?void 0:r,observe:o=>(o.pause(),Se(l=>{o.time=o.iterationDuration*l},r))})}function Nt(i){return i.length===2}function Et(i,n){return Nt(i)?Pe(r=>{i(r[n.axis].progress,r)},n):Se(i,Ne(n))}function Ct(i,{axis:n="y",container:r=document.scrollingElement,...o}={}){if(!r)return be;const l={axis:n,container:r,...o};return typeof i=="function"?Et(i,l):Pt(i,l)}const It=()=>({scrollX:z(0),scrollY:z(0),scrollXProgress:z(0),scrollYProgress:z(0)}),W=i=>i?!i.current:!1;function Tt({container:i,target:n,...r}={}){const o=te(It),l=v.useRef(null),d=v.useRef(!1),g=v.useCallback(()=>(l.current=Ct((m,{x:j,y:x})=>{o.scrollX.set(j.current),o.scrollXProgress.set(j.progress),o.scrollY.set(x.current),o.scrollYProgress.set(x.progress)},{...r,container:i?.current||void 0,target:n?.current||void 0}),()=>{l.current?.()}),[i,n,JSON.stringify(r.offset)]);return ye(()=>{if(d.current=!1,W(i)||W(n)){d.current=!0;return}else return g()},[g]),v.useEffect(()=>{if(d.current)return ie(!W(i)),ie(!W(n)),g()},[g]),o}function K(i){const n=te(()=>z(i)),{isStatic:r}=v.useContext(He);if(r){const[,o]=v.useState(i);v.useEffect(()=>n.on("change",o),[])}return n}function Ee(i,n){const r=K(n()),o=()=>r.set(n());return o(),ye(()=>{const l=()=>$.preRender(o,!1,!0),d=i.map(g=>g.on("change",l));return()=>{d.forEach(g=>g()),ee(o)}}),r}function Lt(i){Z.current=[],i();const n=Ee(Z.current,i);return Z.current=void 0,n}function _(i,n,r,o){if(typeof i=="function")return Lt(i);const l=typeof n=="function"?n:ct(n,r,o);return Array.isArray(i)?de(i,l):de([i],([d])=>l(d))}function de(i,n){const r=te(()=>[]);return Ee(i,()=>{r.length=0;const o=i.length;for(let l=0;l<o;l++)r[l]=i[l].get();return n(r)})}const Mt={some:0,all:1};function kt(i,n,{root:r,margin:o,amount:l="some"}={}){const d=fe(i),g=new WeakMap,m=x=>{x.forEach(y=>{const S=g.get(y.target);if(y.isIntersecting!==!!S)if(y.isIntersecting){const N=n(y.target,y);typeof N=="function"?g.set(y.target,N):j.unobserve(y.target)}else typeof S=="function"&&(S(y),g.delete(y.target))})},j=new IntersectionObserver(m,{root:r,rootMargin:o,threshold:typeof l=="number"?l:Mt[l]});return d.forEach(x=>j.observe(x)),()=>j.disconnect()}function At(i,{root:n,margin:r,amount:o,once:l=!1,initial:d=!1}={}){const[g,m]=v.useState(d);return v.useEffect(()=>{if(!i.current||l&&g)return;const j=()=>(m(!0),l?void 0:()=>m(!1)),x={root:n&&n.current||void 0,margin:r,amount:o};return kt(i.current,j,x)},[n,i,r,l,o]),g}const Rt=()=>{const i=v.useRef(null);return v.useEffect(()=>{const n=i.current,r=n.getContext("2d");let o,l=[];const d=()=>{n.width=window.innerWidth,n.height=window.innerHeight};window.addEventListener("resize",d),d();class g{constructor(y,S,N){this.x=y,this.y=S,this.color=N,this.velocity={x:(Math.random()-.5)*5,y:(Math.random()-.5)*5},this.alpha=1,this.decay=Math.random()*.015+.005}draw(){r.save(),r.globalAlpha=this.alpha,r.beginPath(),r.arc(this.x,this.y,2,0,Math.PI*2),r.fillStyle=this.color,r.fill(),r.restore()}update(){this.x+=this.velocity.x,this.y+=this.velocity.y,this.alpha-=this.decay}}const m=()=>{const x=Math.random()*n.width,y=Math.random()*(n.height/2),S=["#d4af37","#ff007f","#ff7f00","#00ff00","#00ffff"],N=S[Math.floor(Math.random()*S.length)];for(let C=0;C<30;C++)l.push(new g(x,y,N))},j=()=>{o=requestAnimationFrame(j),r.fillStyle="rgba(15, 23, 42, 0.1)",r.fillRect(0,0,n.width,n.height),Math.random()<.05&&m(),l.forEach((x,y)=>{x.alpha>0?(x.update(),x.draw()):l.splice(y,1)})};return j(),()=>{window.removeEventListener("resize",d),cancelAnimationFrame(o)}},[]),t.jsx("canvas",{ref:i,className:"absolute top-0 left-0 w-full h-full pointer-events-none"})};function Dt(){const[i,n]=v.useState(!1);v.useEffect(()=>{const g=()=>n(window.innerWidth<768);return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const{scrollY:r}=Tt();_(r,[0,300],[0,-60]),_(r,[0,300],[1,1.02]);const o=_(r,[0,250],[1,0]),l={animate:{y:[0,-8,0],rotate:[0,1.5,-1.5,0],transition:{y:{duration:2,repeat:1/0,ease:"easeInOut"},rotate:{duration:3,repeat:1/0,ease:"easeInOut"}}},hover:{scale:1.1,filter:"brightness(1.1)",transition:{duration:.3}}},d={animate:{y:[0,-3,0],transition:{duration:4,repeat:1/0,ease:"easeInOut"}},hover:{scale:1.02,filter:"brightness(1.05)",y:-5,transition:{duration:.3}}};return t.jsxs("section",{id:"hero",className:"sticky top-0 h-[100dvh] flex flex-col items-center justify-start overflow-hidden bg-feria-blue selection:bg-feria-gold selection:text-feria-blue",children:[t.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-slate-900 to-feria-blue pointer-events-none",children:!i&&t.jsx(Rt,{})}),t.jsxs(b.div,{style:{opacity:o},className:"relative z-20 mt-16 md:mt-24 flex flex-col items-center gap-1 md:gap-2 px-4 w-full",children:[t.jsx("img",{src:"/LOGOS/logo_chilpancingo_bicentenario.webp",alt:"Chilpancingo Logo",className:"h-[14vh] md:h-[16vh] object-contain drop-shadow-[0_0_15px_rgba(255,255,255,0.4)]"}),t.jsx("img",{src:"/LOGOS/logo_200_anos.webp",alt:"200 Años Logo",className:"h-[9vh] md:h-[10vh] object-contain drop-shadow-[0_0_15px_rgba(255,255,255,0.4)]"})]}),t.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"relative z-20 mt-2 md:mt-4 flex flex-col items-center gap-[-10px] text-white/60 md:hidden",children:[t.jsx(b.div,{animate:{y:[0,8,0],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(ae,{size:32,strokeWidth:1.5})}),t.jsx(b.div,{animate:{y:[0,8,0],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.2},className:"-mt-4",children:t.jsx(ae,{size:32,strokeWidth:1.5})}),t.jsx(b.span,{initial:{opacity:0},animate:{opacity:.8},transition:{delay:2,duration:1},className:"text-[10px] uppercase tracking-widest mt-1 font-medium",children:"Desliza hacia abajo"})]}),t.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-[70vh] flex flex-col justify-end items-center pointer-events-none z-10 pb-[6vh] md:pb-0",children:[t.jsxs(b.div,{className:"relative w-full h-full flex items-end justify-center pb-0",children:[t.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-[60vh] flex items-end justify-between px-0 opacity-100 pointer-events-none z-10",children:[t.jsxs("div",{className:"relative w-1/2 h-full",children:[t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/CATEDRAL_Mesa de trabajo 1.webp",className:"absolute left-[0%] bottom-[8vh] md:bottom-[13vh] w-[35%] md:w-[22%] max-w-[300px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Catedral L"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SAN MATEO_Mesa de trabajo 1.webp",className:"absolute left-[13%] bottom-[7vh] md:bottom-[12vh] w-[26%] md:w-[18%] max-w-[200px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Mateo L"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA SAN FRANCISCO_Mesa de trabajo 1.webp",className:"absolute left-[25%] bottom-[6vh] md:bottom-[10vh] w-[22%] md:w-[16%] max-w-[170px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Francisco L"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE TEQUICORRAL_Mesa de trabajo 1.webp",className:"absolute left-[36%] bottom-[5vh] md:bottom-[11vh] w-[24%] md:w-[14%] max-w-[180px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Tequicorral L"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SANTA CRUZ_Mesa de trabajo 1.webp",className:"absolute left-[46%] bottom-[4vh] md:bottom-[9vh] w-[22%] md:w-[15%] max-w-[180px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Santa Cruz L"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SAN ANTONIO_Mesa de trabajo 1.webp",className:"absolute left-[58%] bottom-[3vh] md:bottom-[7vh] w-[30%] md:w-[14%] max-w-[200px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Antonio L"})]}),t.jsxs("div",{className:"relative w-1/2 h-full",children:[t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SAN ANTONIO_Mesa de trabajo 1.webp",className:"absolute right-[60%] bottom-[3vh] md:bottom-[7vh] w-[30%] md:w-[14%] max-w-[200px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Antonio R"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SANTA CRUZ_Mesa de trabajo 1.webp",className:"absolute right-[46%] bottom-[4vh] md:bottom-[9vh] w-[22%] md:w-[15%] max-w-[180px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Santa Cruz R"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE TEQUICORRAL_Mesa de trabajo 1.webp",className:"absolute right-[36%] bottom-[5vh] md:bottom-[11vh] w-[24%] md:w-[14%] max-w-[180px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Tequicorral R"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA SAN FRANCISCO_Mesa de trabajo 1.webp",className:"absolute right-[25%] bottom-[6vh] md:bottom-[10vh] w-[22%] md:w-[16%] max-w-[170px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Francisco R"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/IGLESIA DE SAN MATEO_Mesa de trabajo 1.webp",className:"absolute right-[13%] bottom-[7vh] md:bottom-[12vh] w-[26%] md:w-[18%] max-w-[200px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"San Mateo R"}),t.jsx(b.img,{variants:d,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/CATEDRAL_Mesa de trabajo 1.webp",className:"absolute right-[0%] bottom-[8vh] md:bottom-[13vh] w-[35%] md:w-[22%] max-w-[300px] object-contain translate-y-4 pointer-events-auto cursor-pointer",alt:"Catedral R"})]})]}),t.jsxs(b.div,{className:"relative z-20 flex items-end justify-center w-full pb-2 md:pb-6",children:[t.jsx(b.img,{variants:l,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/NICOLAS BRAVO_Mesa de trabajo 1.webp",className:"h-[26vh] md:h-[42vh] object-contain md:drop-shadow-2xl z-20 origin-bottom -mr-[25%] md:-mr-[12%] translate-x-4 translate-y-6 md:translate-y-0",alt:"Nicolas Bravo"}),t.jsx(b.img,{variants:l,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/ESCARAMUSA2_Mesa de trabajo 1.webp",className:"h-[36vh] md:h-[58vh] object-contain md:drop-shadow-2xl z-30 origin-bottom translate-y-6",alt:"Escaramusa"}),t.jsx(b.img,{variants:l,animate:"animate",whileHover:"hover",src:"/ELEMENTOS/GUERRERO JAGUAR_Mesa de trabajo 1.webp",className:"h-[29vh] md:h-[44vh] object-contain md:drop-shadow-2xl z-20 origin-bottom -ml-[25%] md:-ml-[12%] -translate-x-4 translate-y-16 md:translate-y-20",alt:"Jaguar"})]})]}),t.jsxs("div",{className:"absolute bottom-0 left-0 w-full z-40",children:[t.jsx("svg",{viewBox:"0 0 1440 320",className:"w-full h-[26vh] md:h-[30vh] block",preserveAspectRatio:"none",children:t.jsx("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,128L720,240L1440,128L1440,320L0,320Z",className:"drop-shadow-[0_-5px_15px_rgba(0,0,0,0.1)]"})}),t.jsxs("div",{className:"absolute bottom-2 left-0 w-full flex justify-center items-center gap-4 md:gap-12 px-4 pb-3 z-50",children:[t.jsx("img",{src:"/LOGOS/H AYUNTAMIENTO .webp",className:"h-8 md:h-10 object-contain",alt:"Ayuntamiento"}),t.jsx("img",{src:"/LOGOS/LOGO RENACE.webp",className:"h-6 md:h-8 object-contain",alt:"Renace"}),t.jsx("img",{src:"/LOGOS/CONSEJO LOGO.webp",className:"h-8 md:h-10 object-contain",alt:"Consejo"})]})]})]})]})}const Ot=({avatarUrl:i="",miniAvatarUrl:n,name:r="Title",title:o="Subtitle",handle:l="Handle",status:d="Year",contactText:g="Ver Detalles",contactLink:m,innerGradient:j,behindGlowColor:x,className:y="",showUserInfo:S=!0,onContactClick:N})=>{const C=v.useMemo(()=>({"--inner-gradient":j||"linear-gradient(145deg, #333 0%, #000 100%)","--behind-glow-color":x||"rgba(255, 255, 255, 0.2)"}),[j,x]);return t.jsxs("div",{className:`pc-card-wrapper ${y}`.trim(),style:C,children:[t.jsxs("div",{className:"pc-card-simple",children:[t.jsxs("div",{className:"pc-image-container",children:[t.jsx("img",{src:i,alt:r,className:"pc-main-image",loading:"lazy"}),t.jsx("div",{className:"pc-overlay-gradient"})]}),S&&t.jsxs("div",{className:"pc-content-simple",children:[t.jsxs("div",{className:"pc-info-row",children:[t.jsx("div",{className:"pc-mini-avatar-simple",children:t.jsx("img",{src:n||i,alt:"mini"})}),t.jsxs("div",{className:"pc-text-block",children:[t.jsxs("span",{className:"pc-handle-simple",children:["@",l]}),t.jsx("span",{className:"pc-status-simple",children:d})]})]}),m?t.jsx(F,{to:m,className:"pc-btn-simple",children:g}):t.jsx("button",{onClick:N,className:"pc-btn-simple",children:g})]})]}),t.jsx("div",{className:"pc-glow-simple"})]})},ge=I.memo(Ot);function zt(){const i=v.useRef(null);v.useRef(null);const n=At(i,{once:!0,margin:"-10%"}),r=[{id:1,src:"/cartel_francisco.webp",title:"Cartel Oficial",artist:"Francisco Alarcón Tapia",description:"Obra representativa con elementos tradicionales.",gradient:"linear-gradient(145deg, #d44d4d8c 0%, #ffc10744 100%)",glow:"rgba(255, 100, 50, 0.67)",link:"/cartel-oficial"},{id:2,src:"/cartel_propuesta.webp",title:"Propuesta Bicentenario",artist:"Edición Especial",description:"Edición especial para los 200 años de la feria.",gradient:"linear-gradient(145deg, #4b6cb78c 0%, #18284844 100%)",glow:"rgba(100, 149, 237, 0.67)",link:"/propuesta-bicentenario"},{id:3,src:"/poster_porrazo.webp",title:"Porrazo de Tigre",artist:"Tradición Viva",description:"La fuerza y el color de nuestra tradición.",gradient:"linear-gradient(145deg, #f59e0b8c 0%, #78350f44 100%)",glow:"rgba(245, 158, 11, 0.67)",link:"/porrazo-del-tigre"}],[o,l]=v.useState(1),d=r.find(g=>g.id===o)||r[0];return t.jsxs("section",{id:"posters",ref:i,className:"relative py-24 px-4 overflow-hidden bg-neutral-900",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-neutral-800 via-neutral-900 to-black opacity-80"}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-6 md:mb-16",children:[t.jsx(b.h2,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-4xl md:text-5xl font-serif text-amber-50 mb-4",children:"Galería del Bicentenario"}),t.jsx(b.div,{initial:{opacity:0,width:0},animate:n?{opacity:1,width:"100px"}:{},transition:{delay:.3,duration:.8},className:"h-1 bg-amber-600 mx-auto"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"md:hidden flex flex-col items-center",children:[t.jsx("div",{className:"w-full max-w-[95vw] mx-auto flex justify-center items-center mb-8",children:t.jsx(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full flex justify-center",children:t.jsx(ge,{avatarUrl:d.src,name:d.title,title:d.artist,handle:"Feria200",status:"2025",contactText:"Ver Detalles",contactLink:d.link,innerGradient:d.gradient,behindGlowColor:d.glow,showUserInfo:!0,enableTilt:!1,enableMobileTilt:!1,className:"w-full"})},d.id)}),t.jsx("div",{className:"grid grid-cols-3 gap-2 w-full max-w-[95vw] mx-auto text-xs",children:r.map(g=>t.jsx("button",{onClick:()=>l(g.id),className:`relative px-2 py-3 rounded-lg font-medium transition-all duration-300 overflow-hidden ${o===g.id?"text-white scale-105 shadow-lg ring-2 ring-amber-500/50":"text-neutral-400 hover:text-white opacity-75"}`,style:{background:o===g.id?g.gradient:"rgba(255,255,255,0.05)"},children:t.jsx("span",{className:"relative z-10 block truncate",children:g.title})},g.id))})]}),t.jsx("div",{className:"hidden md:grid md:grid-cols-3 gap-8 items-center justify-center",children:r.map((g,m)=>t.jsx(b.div,{initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{},transition:{delay:.2+m*.2,duration:.8},className:"flex justify-center",children:t.jsx(ge,{avatarUrl:g.src,name:g.title,title:g.artist,handle:"Feria200",status:"2025",contactText:"Ver Detalles",contactLink:g.link,innerGradient:g.gradient,behindGlowColor:g.glow,showUserInfo:!0,className:"w-full max-w-sm"})},g.id))})]}),t.jsx("div",{className:"mt-12 text-center relative z-20",children:t.jsxs(F,{to:"/carteles-historicos",className:"inline-flex items-center gap-2 px-8 py-3 bg-amber-900/50 hover:bg-amber-800 text-amber-100 border border-amber-700/50 rounded-full transition-all duration-300 font-serif tracking-wide group",children:["Ver Todos los Carteles Históricos",t.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]})}const pe=[{year:"1825",title:"Origen",image:"/ELEMENTOS/NICOLAS BRAVO_Mesa de trabajo 1.webp",secondaryImage:"/Decreto de creación de la feria.webp",description:`Nacida en la posguerra de 1825 para reactivar la economía local, la Feria fue impulsada por el General Nicolás Bravo para auxiliar a una población devastada.
        
        *Documento Histórico: Decreto Número 40 del 26 de marzo de 1825, mediante el cual el Congreso del Estado concede una feria anual a la ciudad de Chilpancingo, estableciendo su celebración en diciembre.*`},{year:"Siglo XIX",title:"Consolidación",images:["/Linea_Tiempo/catedral.webp","/Linea_Tiempo/catedral2.webp"],secondaryImage:"/escudopendon.webp",description:`Desde su inicio, la feria trascendió lo comercial para convertirse en el corazón cultural de la ciudad. Durante el siglo XIX, el 'Paseo del Pendón' emergió como el hilo conductor que unía a los barrios tradicionales. La festividad integró danzas y rituales, consolidándose como un símbolo de identidad que perdura hasta hoy.
        
        *Fotografías históricas: Zócalo y Catedral de la Asunción, testigos del corazón de la ciudad.*`},{year:"1900",title:"La Cuelga de Petaquillas",image:"/Linea_Tiempo/petaquillas.webp",description:`Tradición emblemática de hermandad entre pueblos. Petaquillas enviaba una ofrenda o "cuelga" de mezcal y cadenas de cempasúchil a Chilpancingo, anunciada con música y cohetes. Aunque dejó de realizarse en 1936, permanece como un símbolo histórico de la solidaridad que cimentó nuestra feria.
        
        *Fotografía representativa: Iglesia de San Agustín en el poblado de Petaquillas.*`},{year:"Siglo XX",title:"El Porrazo de Tigres",image:"/ELEMENTOS/PORRAZO_Mesa de trabajo 1.webp",description:`Símbolo de la feria, representa la antigua competencia entre barrios. Originalmente era un encuentro entre los tigres de Amojileca y Chilpancingo en el río Huacapa.
        
        "El tigre carga sobre los hombros la representación del barrio que lo vio nacer; su deber es defender con honor y valentía la presea del ganador..."`},{year:"1979",title:"El Escudo del Pendón",images:["/escudopendon.webp","/Linea_Tiempo/escudoedicion199.webp"],secondaryImage:"/Linea_Tiempo/acta.webp",description:`Establecido por el Cabildo el 21 de septiembre de 1979. Diseñado por Francisco Antonio Alarcón Tapia, representa a Chilpancingo como "lugar de avispas", con cadenas de cempasúchil que simbolizan festividad y bienvenida.
        
        Al centro figuran los tlacololeros y el tigre, con la iglesia de la Asunción al fondo.
        
        *Contexto Histórico: El diseño oficial se eligió mediante concurso y quedó asentado en el Acta de Cabildo mostrada abajo. También se aprecia una versión del pendón de fines del siglo XX utilizado en la festividad.*`},{year:"Actualidad",title:"Modernización y Sede",image:"/Linea_Tiempo/Sede.webp",description:"El crecimiento de la ciudad exigió un nuevo hogar para la fiesta. Tras un periodo itinerante, la feria se estableció definitivamente en los antiguos viveros del Barrio de San Antonio. Hoy, con instalaciones permanentes y un patronato oficial, la feria conjuga tradición y modernidad, manteniéndose como la celebración más importante de Guerrero."}];function Ht(){const[i,n]=v.useState(null);return t.jsxs("section",{id:"history",className:"bg-feria-blue text-white py-20 relative",children:[t.jsxs("div",{className:"container mx-auto px-4 mb-10 md:mb-32",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-center text-feria-gold mb-6",children:"Línea de Tiempo 1825-2025"}),t.jsxs("p",{className:"text-center text-gray-300 max-w-2xl mx-auto mb-8 md:mb-12",children:["Una historia viva que se cuenta a través de los siglos.",t.jsx("span",{className:"block md:hidden text-feria-gold/80 text-sm mt-2 animate-pulse",children:"← Desliza horizontalmente →"}),t.jsx("span",{className:"hidden md:block text-feria-gold/80 text-sm mt-2",children:"Desliza hacia abajo para recorrer la historia"})]})]}),t.jsx("div",{className:"md:hidden flex overflow-x-auto snap-x snap-mandatory gap-6 px-6 pb-12 w-full no-scrollbar relative z-10",children:pe.map((r,o)=>t.jsx($t,{event:r,onImageClick:n},o))}),t.jsxs("div",{className:"hidden md:block relative container mx-auto px-4 pb-24",children:[t.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-[2px] bg-gradient-to-b from-feria-gold/0 via-feria-gold/50 to-feria-gold/0 transform -translate-x-1/2"}),t.jsx("div",{className:"relative flex flex-col",children:pe.map((r,o)=>t.jsx(_t,{event:r,index:o,onImageClick:n},o))})]}),t.jsx(se,{children:i&&t.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-md p-4",onClick:()=>n(null),children:t.jsxs(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-5xl max-h-[90vh] rounded-xl overflow-hidden shadow-2xl flex items-center justify-center",onClick:r=>r.stopPropagation(),children:[t.jsx("img",{src:i,alt:"Vista ampliada",className:"max-w-full max-h-[85vh] object-contain rounded-md"}),t.jsx("button",{onClick:()=>n(null),className:"absolute top-4 right-4 bg-white/10 hover:bg-white/20 text-white p-3 rounded-full transition-colors backdrop-blur-sm border border-white/20",children:t.jsx(ve,{size:28})})]})})})]})}function $t({event:i,onImageClick:n}){const[r,o]=v.useState(0),l=i.images?i.images[r]:i.image,d=g=>{g.stopPropagation(),i.images&&o(m=>(m+1)%i.images.length)};return t.jsx("div",{className:"snap-center shrink-0 w-[85vw] max-w-sm flex flex-col",children:t.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-xl border border-white/20 h-full flex flex-col",children:[t.jsxs("div",{className:"h-56 relative group",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-feria-gold to-feria-red z-10"}),t.jsx("img",{src:l,alt:i.title,className:"w-full h-full object-cover",onError:g=>g.target.style.display="none"}),i.images&&t.jsxs("button",{onClick:d,className:"absolute bottom-3 right-3 bg-red-600 text-white p-2 px-3 rounded-full shadow-lg hover:bg-red-700 transition-colors z-30 font-bold text-xs flex items-center gap-1 border border-white",children:[t.jsx("span",{children:"↻"})," Alternar Foto"]}),t.jsx("div",{className:"absolute bottom-[-1px] left-0 w-full h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"}),t.jsxs("div",{className:"absolute top-4 left-4 bg-feria-blue/90 text-white font-bold px-3 py-1 rounded-lg shadow-lg border border-feria-gold/50 backdrop-blur-md z-20",children:[t.jsx("span",{className:"text-xs text-feria-gold uppercase mr-1",children:"Año"}),i.year]})]}),t.jsxs("div",{className:"p-6 pt-2 flex-1 flex flex-col text-feria-blue",children:[t.jsx("h3",{className:"text-2xl font-serif font-bold mb-3 leading-tight",children:i.title}),t.jsx("div",{className:"w-12 h-1 bg-feria-gold/50 rounded-full mb-4"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 flex-1 whitespace-pre-line",children:i.description}),i.secondaryImage&&t.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:t.jsxs("div",{className:"rounded-lg overflow-hidden border border-gray-200 bg-gray-50 p-1 relative group cursor-pointer",onClick:()=>n&&n(i.secondaryImage),children:[t.jsx("img",{src:i.secondaryImage,className:"w-full h-32 object-contain transition-transform duration-300 group-hover:scale-105",alt:"Documento histórico"}),t.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(J,{className:"text-feria-blue drop-shadow-md",size:32})}),t.jsx("div",{className:"absolute top-2 right-2 bg-white/90 rounded-full p-1 shadow-sm opacity-80",children:t.jsx(J,{size:14,className:"text-feria-blue"})}),t.jsxs("p",{className:"text-[10px] text-center text-feria-blue font-bold mt-1 uppercase tracking-wider flex items-center justify-center gap-1",children:[t.jsx("span",{className:"animate-pulse",children:"●"})," Toca para ampliar"]})]})})]})]})})}function _t({event:i,index:n,onImageClick:r}){const o=n%2===0,[l,d]=v.useState(0),g=i.images?i.images[l]:i.image,m=j=>{j.stopPropagation(),i.images&&d(x=>(x+1)%i.images.length)};return t.jsxs("div",{className:`flex items-center justify-between w-full mb-24 relative ${o?"flex-row":"flex-row-reverse"}`,children:[t.jsx("div",{className:"w-5/12",children:t.jsxs(b.div,{initial:{opacity:0,x:o?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,ease:"easeOut"},className:`bg-white text-feria-blue p-8 rounded-2xl shadow-xl border border-white/10 relative ${o?"text-right":"text-left"}`,children:[t.jsx("div",{className:`absolute top-[-20px] ${o?"right-8":"left-8"} bg-white text-feria-blue border-4 border-feria-blue font-serif font-bold px-6 py-2 rounded-full shadow-xl z-20 text-lg`,children:i.year}),t.jsx("h3",{className:"text-3xl font-serif font-bold mb-4 mt-2",children:i.title}),t.jsx("div",{className:"text-gray-600 leading-relaxed mb-4 text-sm whitespace-pre-line",children:i.description}),i.secondaryImage&&t.jsx("div",{className:`mt-6 flex ${o?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:"relative group cursor-pointer w-24 h-32 bg-gray-100 rounded-lg shadow-md border hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:rotate-2",onClick:()=>r&&r(i.secondaryImage),children:[t.jsx("img",{src:i.secondaryImage,alt:"Documento histórico",className:"w-full h-full object-cover rounded-lg opacity-90 group-hover:opacity-100 transition-opacity"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/10 rounded-lg transition-colors",children:t.jsx(J,{className:"text-feria-blue bg-white/80 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm",size:24})}),t.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity text-xs font-bold text-gray-500 bg-white px-2 py-0.5 rounded shadow-sm z-20",children:"Ver documento"})]})}),t.jsx("div",{className:`absolute top-8 ${o?"-right-3 border-l-[12px] border-l-white":"-left-3 border-r-[12px] border-r-white"} w-0 h-0 border-t-[12px] border-t-transparent border-b-[12px] border-b-transparent`})]})}),t.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 bg-feria-gold rounded-full ring-4 ring-feria-blue z-10 shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),t.jsx("div",{className:"w-5/12 pl-8 pr-8",children:t.jsxs(b.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},className:"rounded-2xl overflow-hidden shadow-2xl border-4 border-white/10 h-[300px] group relative cursor-pointer bg-black/20",onClick:()=>r&&r(g),children:[t.jsx("img",{src:g,alt:i.title,className:"w-full h-full object-contain p-2 transition-transform duration-700 group-hover:scale-105"}),i.images&&t.jsxs("button",{onClick:m,className:"absolute bottom-4 right-4 bg-red-600 text-white p-2 rounded-full shadow-lg hover:bg-red-700 transition-colors z-20 font-bold text-xs flex items-center gap-1 border-2 border-white",children:[t.jsx("span",{children:"↻"})," Ver otra"]}),t.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"})]})})]})}function Ft({children:i,onSendToBack:n,sensitivity:r,disableDrag:o=!1}){const l=K(0),d=K(0),g=_(d,[-100,100],[60,-60]),m=_(l,[-100,100],[-60,60]);function j(x,y){Math.abs(y.offset.x)>r||Math.abs(y.offset.y)>r?n():(l.set(0),d.set(0))}return o?t.jsx(b.div,{className:"card-rotate-disabled",style:{x:0,y:0},children:i}):t.jsx(b.div,{className:"card-rotate",style:{x:l,y:d,rotateX:g,rotateY:m},drag:!0,dragConstraints:{top:0,right:0,bottom:0,left:0},dragElastic:.6,whileTap:{cursor:"grabbing"},onDragEnd:j,children:i})}function ue({randomRotation:i=!1,sensitivity:n=200,cards:r=[],animationConfig:o={stiffness:260,damping:20},sendToBackOnClick:l=!1,autoplay:d=!1,autoplayDelay:g=3e3,pauseOnHover:m=!1,mobileClickOnly:j=!1,mobileBreakpoint:x=768}){const[y,S]=v.useState(!1),[N,C]=v.useState(!1);v.useEffect(()=>{const u=()=>{S(window.innerWidth<x)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[x]);const A=j&&y,U=l||A,[L,B]=v.useState(()=>r.length?r.map((u,e)=>({id:e+1,content:u})):[{id:1,content:t.jsx("img",{src:"https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?q=80&w=500&auto=format",alt:"card-1",className:"card-image"})},{id:2,content:t.jsx("img",{src:"https://images.unsplash.com/photo-1449844908441-8829872d2607?q=80&w=500&auto=format",alt:"card-2",className:"card-image"})},{id:3,content:t.jsx("img",{src:"https://images.unsplash.com/photo-1452626212852-811d58933cae?q=80&w=500&auto=format",alt:"card-3",className:"card-image"})},{id:4,content:t.jsx("img",{src:"https://images.unsplash.com/photo-1572120360610-d971b9d7767c?q=80&w=500&auto=format",alt:"card-4",className:"card-image"})}]);v.useEffect(()=>{r.length&&B(r.map((u,e)=>({id:e+1,content:u})))},[r]);const R=u=>{B(e=>{const s=[...e],a=s.findIndex(h=>h.id===u),[c]=s.splice(a,1);return s.unshift(c),s})};return v.useEffect(()=>{if(d&&L.length>1&&!N){const u=setInterval(()=>{const e=L[L.length-1].id;R(e)},g);return()=>clearInterval(u)}},[d,g,L,N]),t.jsx("div",{className:"stack-container",onMouseEnter:()=>m&&C(!0),onMouseLeave:()=>m&&C(!1),children:L.map((u,e)=>{const s=i?Math.random()*10-5:0;return t.jsx(Ft,{onSendToBack:()=>R(u.id),sensitivity:n,disableDrag:A,children:t.jsx(b.div,{className:"card",onClick:()=>U&&R(u.id),animate:{rotateZ:(L.length-e-1)*4+s,scale:1+e*.06-L.length*.06,transformOrigin:"90% 90%"},initial:!1,transition:{type:"spring",stiffness:o.stiffness,damping:o.damping},children:u.content})},u.id)})})}var H={exports:{}},Bt=H.exports,me;function Wt(){return me||(me=1,(function(i,n){(function(r,o){o(n)})(Bt,(function(r){class o{constructor(e,s){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=s,this.nowDrawingDensity=this.createdDensity,this.render=e}setDensity(e){this.createdDensity=e,this.nowDrawingDensity=e}setDrawingDensity(e){this.nowDrawingDensity=e}setPosition(e){this.state.position=e}setAngle(e){this.state.angle=e}setArea(e){this.state.area=e}setHardDrawingAngle(e){this.state.hardDrawingAngle=e}setHardAngle(e){this.state.hardAngle=e,this.state.hardDrawingAngle=e}setOrientation(e){this.orientation=e}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class l extends o{constructor(e,s,a){super(e,a),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=s}draw(e){const s=this.render.getContext(),a=this.render.convertToGlobal(this.state.position),c=this.render.getRect().pageWidth,h=this.render.getRect().height;s.save(),s.translate(a.x,a.y),s.beginPath();for(let p of this.state.area)p!==null&&(p=this.render.convertToGlobal(p),s.lineTo(p.x-a.x,p.y-a.y));s.rotate(this.state.angle),s.clip(),this.isLoad?s.drawImage(this.image,0,0,c,h):this.drawLoader(s,{x:0,y:0},c,h),s.restore()}simpleDraw(e){const s=this.render.getRect(),a=this.render.getContext(),c=s.pageWidth,h=s.height,p=e===1?s.left+s.pageWidth:s.left,f=s.top;this.isLoad?a.drawImage(this.image,p,f,c,h):this.drawLoader(a,{x:p,y:f},c,h)}drawLoader(e,s,a,c){e.beginPath(),e.strokeStyle="rgb(200, 200, 200)",e.fillStyle="rgb(255, 255, 255)",e.lineWidth=1,e.rect(s.x+1,s.y+1,a-1,c-1),e.stroke(),e.fill();const h={x:s.x+a/2,y:s.y+c/2};e.beginPath(),e.lineWidth=10,e.arc(h.x,h.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),e.stroke(),e.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class d{constructor(e,s){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=s,this.app=e,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let s=0;s<this.pages.length;s++)this.portraitSpread.push([s]);let e=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([e]),e++);for(let s=e;s<this.pages.length;s+=2)s<this.pages.length-1?this.landscapeSpread.push([s,s+1]):(this.landscapeSpread.push([s]),this.pages[s].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(e){const s=this.getSpread();for(let a=0;a<s.length;a++)if(e===s[a][0]||e===s[a][1])return a;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(e){if(e>=0&&e<this.pages.length)return this.pages[e];throw new Error("Invalid page number")}nextBy(e){const s=this.pages.indexOf(e);return s<this.pages.length-1?this.pages[s+1]:null}prevBy(e){const s=this.pages.indexOf(e);return s>0?this.pages[s-1]:null}getFlippingPage(e){const s=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return e===0?this.pages[s].newTemporaryCopy():this.pages[s-1];{const a=e===0?this.getSpread()[s+1]:this.getSpread()[s-1];return a.length===1||e===0?this.pages[a[0]]:this.pages[a[1]]}}getBottomPage(e){const s=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return e===0?this.pages[s+1]:this.pages[s-1];{const a=e===0?this.getSpread()[s+1]:this.getSpread()[s-1];return a.length===1?this.pages[a[0]]:e===0?this.pages[a[1]]:this.pages[a[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(e=null){if(e===null&&(e=this.currentPageIndex),e<0||e>=this.pages.length)return;const s=this.getSpreadIndexByPage(e);s!==null&&(this.currentSpreadIndex=s,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(e){if(!(e>=0&&e<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=e}showSpread(){const e=this.getSpread()[this.currentSpreadIndex];e.length===2?(this.render.setLeftPage(this.pages[e[0]]),this.render.setRightPage(this.pages[e[1]])):this.render.getOrientation()==="landscape"&&e[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[e[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[e[0]])),this.currentPageIndex=e[0],this.app.updatePageIndex(this.currentPageIndex)}}class g extends d{constructor(e,s,a){super(e,s),this.imagesHref=a}load(){for(const e of this.imagesHref){const s=new l(this.render,e,"soft");s.load(),this.pages.push(s)}this.createSpread()}}class m{static GetDistanceBetweenTwoPoint(e,s){return e===null||s===null?1/0:Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}static GetSegmentLength(e){return m.GetDistanceBetweenTwoPoint(e[0],e[1])}static GetAngleBetweenTwoLine(e,s){const a=e[0].y-e[1].y,c=s[0].y-s[1].y,h=e[1].x-e[0].x,p=s[1].x-s[0].x;return Math.acos((a*c+h*p)/(Math.sqrt(a*a+h*h)*Math.sqrt(c*c+p*p)))}static PointInRect(e,s){return s===null?null:s.x>=e.left&&s.x<=e.width+e.left&&s.y>=e.top&&s.y<=e.top+e.height?s:null}static GetRotatedPoint(e,s,a){return{x:e.x*Math.cos(a)+e.y*Math.sin(a)+s.x,y:e.y*Math.cos(a)-e.x*Math.sin(a)+s.y}}static LimitPointToCircle(e,s,a){if(m.GetDistanceBetweenTwoPoint(e,a)<=s)return a;const c=e.x,h=e.y,p=a.x,f=a.y;let w=Math.sqrt(Math.pow(s,2)*Math.pow(c-p,2)/(Math.pow(c-p,2)+Math.pow(h-f,2)))+c;a.x<0&&(w*=-1);let P=(w-c)*(h-f)/(c-p)+h;return c-p+h===0&&(P=s),{x:w,y:P}}static GetIntersectBetweenTwoSegment(e,s,a){return m.PointInRect(e,m.GetIntersectBeetwenTwoLine(s,a))}static GetIntersectBeetwenTwoLine(e,s){const a=e[0].y-e[1].y,c=s[0].y-s[1].y,h=e[1].x-e[0].x,p=s[1].x-s[0].x,f=e[0].x*e[1].y-e[1].x*e[0].y,w=s[0].x*s[1].y-s[1].x*s[0].y,P=a*w-c*f,E=h*w-p*f,T=-(f*p-w*h)/(a*p-c*h),D=-(a*w-c*f)/(a*p-c*h);if(isFinite(T)&&isFinite(D))return{x:T,y:D};if(Math.abs(P-E)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(e,s){const a=Math.abs(e.x-s.x),c=Math.abs(e.y-s.y),h=Math.max(a,c),p=[e];function f(w,P,E,T,D){return P>w?w+D*(E/T):P<w?w-D*(E/T):w}for(let w=1;w<=h;w+=1)p.push({x:f(e.x,s.x,a,h,w),y:f(e.y,s.y,c,h,w)});return p}}class j extends o{constructor(e,s,a){super(e,a),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=s,this.element.classList.add("stf__item"),this.element.classList.add("--"+a)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new j(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(e){const s=e||this.nowDrawingDensity,a=this.render.convertToGlobal(this.state.position),c=this.render.getRect().pageWidth,h=this.render.getRect().height;this.element.classList.remove("--simple");const p=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${c}px;
            height: ${h}px;
        `;s==="hard"?this.drawHard(p):this.drawSoft(a,p)}drawHard(e=""){const s=this.render.getRect().left+this.render.getRect().width/2,a=this.state.hardDrawingAngle,c=e+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${a}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${s}px, 0, 0) rotateY(${a}deg);`);this.element.style.cssText=c}drawSoft(e,s=""){let a="polygon( ";for(const h of this.state.area)if(h!==null){let p=this.render.getDirection()===1?{x:-h.x+this.state.position.x,y:h.y-this.state.position.y}:{x:h.x-this.state.position.x,y:h.y-this.state.position.y};p=m.GetRotatedPoint(p,{x:0,y:0},this.state.angle),a+=p.x+"px "+p.y+"px, "}a=a.slice(0,-2),a+=")";const c=s+`transform-origin: 0 0; clip-path: ${a}; -webkit-clip-path: ${a};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${e.x}px, ${e.y}px);`:`transform: translate3d(${e.x}px, ${e.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=c}simpleDraw(e){const s=this.render.getRect(),a=s.pageWidth,c=s.height,h=e===1?s.left+s.pageWidth:s.left,p=s.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${c}px; 
            left: ${h}px; 
            top: ${p}px; 
            width: ${a}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(e){super.setOrientation(e),this.element.classList.remove("--left","--right"),this.element.classList.add(e===1?"--right":"--left")}setDrawingDensity(e){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+e),super.setDrawingDensity(e)}}class x extends d{constructor(e,s,a,c){super(e,s),this.element=a,this.pagesElement=c}load(){for(const e of this.pagesElement){const s=new j(this.render,e,e.dataset.density==="hard"?"hard":"soft");s.load(),this.pages.push(s)}this.createSpread()}}class y{constructor(e,s,a,c){this.direction=e,this.corner=s,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(a,10),this.pageHeight=parseInt(c,10)}calc(e){try{return this.position=this.calcAngleAndPosition(e),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const e=[];let s=!1;return e.push(this.rect.topLeft),e.push(this.topIntersectPoint),this.sideIntersectPoint===null?s=!0:(e.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(s=!1)),e.push(this.bottomIntersectPoint),(s||this.corner==="bottom")&&e.push(this.rect.bottomLeft),e}getBottomClipArea(){const e=[];return e.push(this.topIntersectPoint),this.corner==="top"?e.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&e.push({x:this.pageWidth,y:0}),e.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?m.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&e.push(this.sideIntersectPoint):this.corner==="top"&&e.push({x:this.pageWidth,y:this.pageHeight}),e.push(this.bottomIntersectPoint),e.push(this.topIntersectPoint),e}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const e=m.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?e:Math.PI-e}calcAngleAndPosition(e){let s=e;if(this.updateAngleAndGeometry(s),s=this.corner==="top"?this.checkPositionAtCenterLine(s,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(s,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(s.x-this.pageWidth)<1&&Math.abs(s.y)<1)throw new Error("Point is too small");return s}updateAngleAndGeometry(e){this.angle=this.calculateAngle(e),this.rect=this.getPageRect(e)}calculateAngle(e){const s=this.pageWidth-e.x+1,a=this.corner==="bottom"?this.pageHeight-e.y:e.y;let c=2*Math.acos(s/Math.sqrt(a*a+s*s));a<0&&(c=-c);const h=Math.PI-c;if(!isFinite(c)||h>=0&&h<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(c=-c),c}getPageRect(e){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],e):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],e)}getRectFromBasePoint(e,s){return{topLeft:this.getRotatedPoint(e[0],s),topRight:this.getRotatedPoint(e[1],s),bottomLeft:this.getRotatedPoint(e[2],s),bottomRight:this.getRotatedPoint(e[3],s)}}getRotatedPoint(e,s){return{x:e.x*Math.cos(this.angle)+e.y*Math.sin(this.angle)+s.x,y:e.y*Math.cos(this.angle)-e.x*Math.sin(this.angle)+s.y}}calculateIntersectPoint(e){const s={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[e,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[e,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[e,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=m.GetIntersectBetweenTwoSegment(s,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(e,s,a){let c=e;const h=m.LimitPointToCircle(s,this.pageWidth,c);c!==h&&(c=h,this.updateAngleAndGeometry(c));const p=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let f=this.rect.bottomRight,w=this.rect.topLeft;if(this.corner==="bottom"&&(f=this.rect.topRight,w=this.rect.bottomLeft),f.x<=0){const P=m.LimitPointToCircle(a,p,w);P!==c&&(c=P,this.updateAngleAndGeometry(c))}return c}getSegmentToShadowLine(){const e=this.getShadowStartPoint();return[e,e!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class S{constructor(e,s){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=e,this.app=s}fold(e){this.setState("user_fold"),this.calc===null&&this.start(e),this.do(this.render.convertToPage(e))}flip(e){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(e)||(this.calc!==null&&this.render.finishAnimation(),!this.start(e)))return;const s=this.getBoundsRect();this.setState("flipping");const a=s.height/10,c=this.calc.getCorner()==="bottom"?s.height-a:a,h=this.calc.getCorner()==="bottom"?s.height:0;this.calc.calc({x:s.pageWidth-a,y:c}),this.animateFlippingTo({x:s.pageWidth-a,y:c},{x:-s.pageWidth,y:h},!0)}start(e){this.reset();const s=this.render.convertToBook(e),a=this.getBoundsRect(),c=this.getDirectionByPoint(s),h=s.y>=a.height/2?"bottom":"top";if(!this.checkDirection(c))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(c),this.bottomPage=this.app.getPageCollection().getBottomPage(c),this.render.getOrientation()==="landscape")if(c===1){const p=this.app.getPageCollection().nextBy(this.flippingPage);p!==null&&this.flippingPage.getDensity()!==p.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),p.setDrawingDensity("hard"))}else{const p=this.app.getPageCollection().prevBy(this.flippingPage);p!==null&&this.flippingPage.getDensity()!==p.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),p.setDrawingDensity("hard"))}return this.render.setDirection(c),this.calc=new y(c,h,a.pageWidth.toString(10),a.height.toString(10)),!0}catch{return!1}}do(e){if(this.calc!==null&&this.calc.calc(e)){const s=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*s)/100):this.flippingPage.setHardAngle(-90*(200-2*s)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),s,this.calc.getDirection())}}flipToPage(e,s){const a=this.app.getPageCollection().getCurrentSpreadIndex(),c=this.app.getPageCollection().getSpreadIndexByPage(e);try{c>a&&(this.app.getPageCollection().setCurrentSpreadIndex(c-1),this.flipNext(s)),c<a&&(this.app.getPageCollection().setCurrentSpreadIndex(c+1),this.flipPrev(s))}catch{}}flipNext(e){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:e==="top"?1:this.render.getRect().height-2})}flipPrev(e){this.flip({x:10,y:e==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const e=this.calc.getPosition(),s=this.getBoundsRect(),a=this.calc.getCorner()==="bottom"?s.height:0;e.x<=0?this.animateFlippingTo(e,{x:-s.pageWidth,y:a},!0):this.animateFlippingTo(e,{x:s.pageWidth,y:a},!1)}showCorner(e){if(!this.checkState("read","fold_corner"))return;const s=this.getBoundsRect(),a=s.pageWidth;if(this.isPointOnCorners(e))if(this.calc===null){if(!this.start(e))return;this.setState("fold_corner"),this.calc.calc({x:a-1,y:1});const c=50,h=this.calc.getCorner()==="bottom"?s.height-1:1,p=this.calc.getCorner()==="bottom"?s.height-c:c;this.animateFlippingTo({x:a-1,y:h},{x:a-c,y:p},!1,!1)}else this.do(this.render.convertToPage(e));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(e,s,a,c=!0){const h=m.GetCordsFromTwoPoint(e,s),p=[];for(const w of h)p.push(()=>this.do(w));const f=this.getAnimationDuration(h.length);this.render.startAnimation(p,f,()=>{this.calc&&(a&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),c&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(e){this.state!==e&&(this.app.updateState(e),this.state=e)}getDirectionByPoint(e){const s=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(e.x-s.pageWidth<=s.width/5)return 1}else if(e.x<s.width/2)return 1;return 0}getAnimationDuration(e){const s=this.app.getSettings().flippingTime;return e>=1e3?s:e/1e3*s}checkDirection(e){return e===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...e){for(const s of e)if(this.state===s)return!0;return!1}isPointOnCorners(e){const s=this.getBoundsRect(),a=s.pageWidth,c=Math.sqrt(Math.pow(a,2)+Math.pow(s.height,2))/5,h=this.render.convertToBook(e);return h.x>0&&h.y>0&&h.x<s.width&&h.y<s.height&&(h.x<c||h.x>s.width-c)&&(h.y<c||h.y>s.height-c)}}class N{constructor(e,s){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=s,this.app=e;const a=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=a.exec(window.navigator.userAgent)!==null}render(e){if(this.animation!==null){const s=Math.round((e-this.animation.startedAt)/this.animation.durationFrame);s<this.animation.frames.length?this.animation.frames[s]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=e,this.drawFrame()}start(){this.update();const e=s=>{this.render(s),requestAnimationFrame(e)};requestAnimationFrame(e)}startAnimation(e,s,a){this.finishAnimation(),this.animation={frames:e,duration:s,durationFrame:s/e.length,onAnimateEnd:a,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const e=this.calculateBoundsRect();this.orientation!==e&&(this.orientation=e,this.app.updateOrientation(e))}calculateBoundsRect(){let e="landscape";const s=this.getBlockWidth(),a=s/2,c=this.getBlockHeight()/2,h=this.setting.width/this.setting.height;let p=this.setting.width,f=this.setting.height,w=a-p;return this.setting.size==="stretch"?(s<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(e="portrait"),p=e==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,p>this.setting.maxWidth&&(p=this.setting.maxWidth),f=p/h,f>this.getBlockHeight()&&(f=this.getBlockHeight(),p=f*h),w=e==="portrait"?a-p/2-p:a-p):s<2*p&&this.app.getSettings().usePortrait&&(e="portrait",w=a-p/2-p),this.boundsRect={left:w,top:c-f/2,width:2*p,height:f,pageWidth:p},e}setShadowData(e,s,a,c){if(!this.app.getSettings().drawShadow)return;const h=100*this.getSettings().maxShadowOpacity;this.shadow={pos:e,angle:s,width:3*this.getRect().pageWidth/4*a/100,opacity:(100-a)*h/100/100,direction:c,progress:2*a}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(e){this.pageRect=e}setDirection(e){this.direction=e}setRightPage(e){e!==null&&e.setOrientation(1),this.rightPage=e}setLeftPage(e){e!==null&&e.setOrientation(0),this.leftPage=e}setBottomPage(e){e!==null&&e.setOrientation(this.direction===1?0:1),this.bottomPage=e}setFlippingPage(e){e!==null&&e.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=e}convertToBook(e){const s=this.getRect();return{x:e.x-s.left,y:e.y-s.top}}isSafari(){return this.safari}convertToPage(e,s){s||(s=this.direction);const a=this.getRect();return{x:s===0?e.x-a.left-a.width/2:a.width/2-e.x+a.left,y:e.y-a.top}}convertToGlobal(e,s){if(s||(s=this.direction),e==null)return null;const a=this.getRect();return{x:s===0?e.x+a.left+a.width/2:a.width/2-e.x+a.left,y:e.y+a.top}}convertRectToGlobal(e,s){return s||(s=this.direction),{topLeft:this.convertToGlobal(e.topLeft,s),topRight:this.convertToGlobal(e.topRight,s),bottomLeft:this.convertToGlobal(e.bottomLeft,s),bottomRight:this.convertToGlobal(e.bottomRight,s)}}}class C extends N{constructor(e,s,a){super(e,s),this.canvas=a,this.ctx=a.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const e=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(e.left+e.pageWidth,e.top,e.width,e.height),this.ctx.clip())}drawBookShadow(){const e=this.getRect();this.ctx.save(),this.ctx.beginPath();const s=e.width/20;this.ctx.rect(e.left,e.top,e.width,e.height);const a={x:e.left+e.width/2-s/2,y:0};this.ctx.translate(a.x,a.y);const c=this.ctx.createLinearGradient(0,0,s,0);c.addColorStop(0,"rgba(0, 0, 0, 0)"),c.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),c.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),c.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),c.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=c,this.ctx.fillRect(0,0,s,2*e.height),this.ctx.restore()}drawOuterShadow(){const e=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e.left,e.top,e.width,e.height);const s=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(s.x,s.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const a=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),a.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),a.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),a.addColorStop(0,"rgba(0, 0, 0, 0)"),a.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.shadow.width,2*e.height),this.ctx.restore()}drawInnerShadow(){const e=this.getRect();this.ctx.save(),this.ctx.beginPath();const s=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),a=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(a.topLeft.x,a.topLeft.y),this.ctx.lineTo(a.topRight.x,a.topRight.y),this.ctx.lineTo(a.bottomRight.x,a.bottomRight.y),this.ctx.lineTo(a.bottomLeft.x,a.bottomLeft.y),this.ctx.translate(s.x,s.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const c=3*this.shadow.width/4,h=this.ctx.createLinearGradient(0,0,c,0);this.shadow.direction===0?(this.ctx.translate(-c,-100),h.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),h.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),h.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),h.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),h.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),h.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),h.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),h.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=h,this.ctx.fillRect(0,0,c,2*e.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class A{constructor(e,s,a){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=h=>{if(this.checkTarget(h.target)){const p=this.getMousePos(h.clientX,h.clientY);this.app.startUserTouch(p),h.preventDefault()}},this.onTouchStart=h=>{if(this.checkTarget(h.target)&&h.changedTouches.length>0){const p=h.changedTouches[0],f=this.getMousePos(p.clientX,p.clientY);this.touchPoint={point:f,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(f)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||h.preventDefault()}},this.onMouseUp=h=>{const p=this.getMousePos(h.clientX,h.clientY);this.app.userStop(p)},this.onMouseMove=h=>{const p=this.getMousePos(h.clientX,h.clientY);this.app.userMove(p,!1)},this.onTouchMove=h=>{if(h.changedTouches.length>0){const p=h.changedTouches[0],f=this.getMousePos(p.clientX,p.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-f.x)>10||this.app.getState()!=="read")&&h.cancelable&&this.app.userMove(f,!0),this.app.getState()!=="read"&&h.preventDefault()):this.app.userMove(f,!0)}},this.onTouchEnd=h=>{if(h.changedTouches.length>0){const p=h.changedTouches[0],f=this.getMousePos(p.clientX,p.clientY);let w=!1;if(this.touchPoint!==null){const P=f.x-this.touchPoint.point.x,E=Math.abs(f.y-this.touchPoint.point.y);Math.abs(P)>this.swipeDistance&&E<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(P>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),w=!0),this.touchPoint=null}this.app.userStop(f,w)}},this.parentElement=e,e.classList.add("stf__parent"),e.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=e.querySelector(".stf__wrapper"),this.app=s;const c=this.app.getSettings().usePortrait?1:2;e.style.minWidth=a.minWidth*c+"px",e.style.minHeight=a.minHeight+"px",a.size==="fixed"&&(e.style.minWidth=a.width*c+"px",e.style.minHeight=a.height+"px"),a.autoSize&&(e.style.width="100%",e.style.maxWidth=2*a.maxWidth+"px"),e.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=a.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(e){this.wrapper.classList.remove("--portrait","--landscape"),e==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(e,s){const a=this.distElement.getBoundingClientRect();return{x:e-a.left,y:s-a.top}}checkTarget(e){return!this.app.getSettings().clickEventForward||!["a","button"].includes(e.tagName.toLowerCase())}}class U extends A{constructor(e,s,a,c){super(e,s,a),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=e.querySelector(".stf__block"),this.items=c;for(const h of c)this.distElement.appendChild(h);this.setHandlers()}clear(){for(const e of this.items)this.parentElement.appendChild(e)}updateItems(e){this.removeHandlers(),this.distElement.innerHTML="";for(const s of e)this.distElement.appendChild(s);this.items=e,this.setHandlers()}update(){this.app.getRender().update()}}class L extends A{constructor(e,s,a){super(e,s,a),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=e.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const e=getComputedStyle(this.canvas),s=parseInt(e.getPropertyValue("width"),10),a=parseInt(e.getPropertyValue("height"),10);this.canvas.width=s,this.canvas.height=a}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends N{constructor(e,s,a){super(e,s),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=a,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const e=this.getRect(),s=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let a=(100-s)*(2.5*e.pageWidth)/100+20;a>e.pageWidth&&(a=e.pageWidth);let c=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${a}px;
            height: ${e.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*s/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${e.left+e.width/2}px;
            transform-origin: 0 0;
        `;c+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=c}drawHardOuterShadow(){const e=this.getRect();let s=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*e.pageWidth)/100+20;s>e.pageWidth&&(s=e.pageWidth);let a=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${s}px;
            height: ${e.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${e.left+e.width/2}px;
            transform-origin: 0 0;
        `;a+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=a}drawInnerShadow(){const e=this.getRect(),s=3*this.shadow.width/4,a=this.getDirection()===0?s:0,c=this.getDirection()===0?"to left":"to right",h=this.convertToGlobal(this.shadow.pos),p=this.shadow.angle+3*Math.PI/2,f=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let w="polygon( ";for(const E of f){let T=this.getDirection()===1?{x:-E.x+this.shadow.pos.x,y:E.y-this.shadow.pos.y}:{x:E.x-this.shadow.pos.x,y:E.y-this.shadow.pos.y};T=m.GetRotatedPoint(T,{x:a,y:100},p),w+=T.x+"px "+T.y+"px, "}w=w.slice(0,-2),w+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${s}px;
            height: ${2*e.height}px;
            background: linear-gradient(${c},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${a}px 100px;
            transform: translate3d(${h.x-a}px, ${h.y-100}px, 0) rotate(${p}rad);
            clip-path: ${w};
            -webkit-clip-path: ${w};
        `;this.innerShadow.style.cssText=P}drawOuterShadow(){const e=this.getRect(),s=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),a=this.shadow.angle+3*Math.PI/2,c=this.getDirection()===1?this.shadow.width:0,h=this.getDirection()===0?"to right":"to left",p=[{x:0,y:0},{x:e.pageWidth,y:0},{x:e.pageWidth,y:e.height},{x:0,y:e.height}];let f="polygon( ";for(const P of p)if(P!==null){let E=this.getDirection()===1?{x:-P.x+this.shadow.pos.x,y:P.y-this.shadow.pos.y}:{x:P.x-this.shadow.pos.x,y:P.y-this.shadow.pos.y};E=m.GetRotatedPoint(E,{x:c,y:100},a),f+=E.x+"px "+E.y+"px, "}f=f.slice(0,-2),f+=")";const w=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*e.height}px;
            background: linear-gradient(${h}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${c}px 100px;
            transform: translate3d(${s.x-c}px, ${s.y-100}px, 0) rotate(${a}rad);
            clip-path: ${f};
            -webkit-clip-path: ${f};
        `;this.outerShadow.style.cssText=w}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const e=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(e))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const e of this.app.getPageCollection().getPages())e!==this.leftPage&&e!==this.rightPage&&e!==this.flippingPage&&e!==this.bottomPage&&(e.getElement().style.cssText="display: none"),e.getTemporaryCopy()!==this.flippingPage&&e.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class R{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(e){const s=this._default;if(Object.assign(s,e),s.size!=="stretch"&&s.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(s.width<=0||s.height<=0)throw new Error("Invalid width or height");if(s.flippingTime<=0)throw new Error("Invalid flipping time");return s.size==="stretch"?(s.minWidth<=0&&(s.minWidth=100),s.maxWidth<s.minWidth&&(s.maxWidth=2e3),s.minHeight<=0&&(s.minHeight=100),s.maxHeight<s.minHeight&&(s.maxHeight=2e3)):(s.minWidth=s.width,s.maxWidth=s.width,s.minHeight=s.height,s.maxHeight=s.height),s}}(function(u,e){e===void 0&&(e={});var s=e.insertAt;if(typeof document<"u"){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",s==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=u:c.appendChild(document.createTextNode(u))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),r.PageFlip=class extends class{constructor(){this.events=new Map}on(u,e){return this.events.has(u)?this.events.get(u).push(e):this.events.set(u,[e]),this}off(u){this.events.delete(u)}trigger(u,e,s=null){if(this.events.has(u))for(const a of this.events.get(u))a({data:s,object:e})}}{constructor(u,e){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new R().getSettings(e),this.block=u}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(u){this.ui=new L(this.block,this,this.setting);const e=this.ui.getCanvas();this.render=new C(this,this.setting,e),this.flipController=new S(this.render,this),this.pages=new g(this,this.render,u),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(u){this.ui=new U(this.block,this,this.setting,u),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new S(this.render,this),this.pages=new x(this,this.render,this.ui.getDistElement(),u),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(u){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new g(this,this.render,u),this.pages.load(),this.pages.show(e),this.trigger("update",this,{page:e,mode:this.render.getOrientation()})}updateFromHtml(u){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new x(this,this.render,this.ui.getDistElement(),u),this.pages.load(),this.ui.updateItems(u),this.render.reload(),this.pages.show(e),this.trigger("update",this,{page:e,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(u){this.pages.show(u)}flipNext(u="top"){this.flipController.flipNext(u)}flipPrev(u="top"){this.flipController.flipPrev(u)}flip(u,e="top"){this.flipController.flipToPage(u,e)}updateState(u){this.trigger("changeState",this,u)}updatePageIndex(u){this.trigger("flip",this,u)}updateOrientation(u){this.ui.setOrientationStyle(u),this.update(),this.trigger("changeOrientation",this,u)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(u){return this.pages.getPage(u)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(u){this.mousePosition=u,this.isUserTouch=!0,this.isUserMove=!1}userMove(u,e){this.isUserTouch||e||!this.setting.showPageCorners?this.isUserTouch&&m.GetDistanceBetweenTwoPoint(this.mousePosition,u)>5&&(this.isUserMove=!0,this.flipController.fold(u)):this.flipController.showCorner(u)}userStop(u,e=!1){this.isUserTouch&&(this.isUserTouch=!1,e||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(u)))}},Object.defineProperty(r,"__esModule",{value:!0})}))})(H,H.exports)),H.exports}var Gt=Wt();const qt=I.forwardRef((i,n)=>{const r=v.useRef(null),o=v.useRef([]),l=v.useRef(),[d,g]=v.useState([]);v.useImperativeHandle(n,()=>({pageFlip:()=>l.current}));const m=v.useCallback(()=>{l.current&&l.current.clear()},[]),j=v.useCallback(()=>{const x=l.current;x&&(x.off("flip"),x.off("changeOrientation"),x.off("changeState"),x.off("init"),x.off("update"))},[]);return v.useEffect(()=>{if(o.current=[],i.children){const x=I.Children.map(i.children,y=>I.cloneElement(y,{ref:S=>{S&&o.current.push(S)}}));(!i.renderOnlyPageLengthChange||d.length!==x.length)&&(x.length<d.length&&m(),g(x))}},[i.children]),v.useEffect(()=>{const x=()=>{const y=l.current;y&&(i.onFlip&&y.on("flip",S=>i.onFlip(S)),i.onChangeOrientation&&y.on("changeOrientation",S=>i.onChangeOrientation(S)),i.onChangeState&&y.on("changeState",S=>i.onChangeState(S)),i.onInit&&y.on("init",S=>i.onInit(S)),i.onUpdate&&y.on("update",S=>i.onUpdate(S)))};d.length>0&&o.current.length>0&&(j(),r.current&&!l.current&&(l.current=new Gt.PageFlip(r.current,i)),l.current.getFlipController()?l.current.updateFromHtml(o.current):l.current.loadFromHTML(o.current),x())},[d]),I.createElement("div",{ref:r,className:i.className,style:i.style},d)}),Vt=I.memo(qt),xe=Array.from({length:29},(i,n)=>`/libro/page_${n+1}.webp`),Ut=I.forwardRef((i,n)=>t.jsx("div",{className:"demoPage bg-white shadow-lg overflow-hidden border-r border-gray-200",ref:n,children:t.jsxs("div",{className:"h-full w-full relative",children:[t.jsx("img",{src:i.image,alt:`Página ${i.number} `,className:"w-full h-full object-contain",loading:"lazy"}),t.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-400 font-serif",children:i.number})]})})),Zt=I.forwardRef((i,n)=>t.jsxs("div",{className:"demoPage bg-[#5D4037] shadow-xl overflow-hidden border-r-4 border-[#3E2723] flex flex-col items-center justify-center p-8 text-center relative",ref:n,children:[t.jsx("div",{className:"absolute inset-0 bg-black/10 mix-blend-multiply pointer-events-none"}),t.jsxs("div",{className:"w-full h-full border-4 border-[#FFD700] border-double rounded-lg flex flex-col items-center justify-center p-6 relative z-10",children:[t.jsx("div",{className:"w-56 h-56 mb-8 opacity-90",children:t.jsx("img",{src:"/escudo_pendon.webp",alt:"Escudo",className:"w-full h-full object-contain filter drop-shadow-lg"})}),t.jsx("h1",{className:"text-4xl font-serif font-bold text-[#FFD700] mb-2 drop-shadow-md",children:"200 Años"}),t.jsx("h2",{className:"text-2xl font-serif text-[#FFECB3] mb-8 drop-shadow-sm uppercase tracking-widest",children:"Feria de Chilpancingo"}),t.jsx("div",{className:"w-32 h-1 bg-[#FFD700] rounded-full mb-8"}),t.jsx("p",{className:"text-[#D7CCC8] text-sm uppercase tracking-wider font-semibold",children:"Compendio Histórico"}),t.jsx("p",{className:"text-[#D7CCC8] text-xs mt-2",children:"1825 - 2025"}),t.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col items-center gap-1 animate-pulse",children:[t.jsx(Ve,{className:"w-6 h-6 text-[#FFD700] rotate-12"}),t.jsx("span",{className:"text-[10px] text-[#FFECB3] font-serif uppercase tracking-widest",children:"Abrir"})]})]})]})),Xt=I.forwardRef((i,n)=>t.jsxs("div",{className:"demoPage bg-[#5D4037] shadow-xl overflow-hidden border-l-4 border-[#3E2723] flex flex-col items-center justify-center p-8 text-center relative",ref:n,children:[t.jsx("div",{className:"absolute inset-0 bg-black/10 mix-blend-multiply pointer-events-none"}),t.jsxs("div",{className:"w-full h-full border-4 border-[#FFD700] border-double rounded-lg flex flex-col items-center justify-center p-6 relative z-10",children:[t.jsx("div",{className:"w-48 h-48 mb-6 opacity-90",children:t.jsx("img",{src:"/escudo_pendon.webp",alt:"Escudo",className:"w-full h-full object-contain filter drop-shadow-lg",loading:"eager"})}),t.jsx("h2",{className:"text-2xl font-serif text-[#FFECB3] mb-4 drop-shadow-sm uppercase tracking-widest",children:"Feria de Chilpancingo"}),t.jsx("p",{className:"text-[#D7CCC8] text-sm uppercase tracking-wider font-semibold",children:"Orgullo y Tradición"})]})]}));function Yt(){const i=I.useRef(null);I.useEffect(()=>{["/escudo_pendon.webp",...xe].forEach(o=>{const l=new Image;l.src=o})},[]);const n=()=>{i.current&&i.current.pageFlip().turnToPage(0)};return t.jsxs("section",{className:"w-full py-20 bg-neutral-900 flex flex-col items-center justify-center overflow-hidden",children:[t.jsxs("div",{className:"text-center mb-24 relative z-20 px-4",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-amber-400 mb-4 drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]",children:"Libro Histórico"}),t.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto font-medium",children:"Una mirada histórica a través de las páginas. Desliza o haz clic en las esquinas para pasar de página."})]}),t.jsx("div",{className:"relative z-10 flex justify-center items-center w-full max-w-[1200px] h-[400px] md:h-[600px]",children:t.jsxs(Vt,{width:450,height:600,size:"stretch",minWidth:300,maxWidth:800,minHeight:400,maxHeight:1e3,maxShadowOpacity:.5,showCover:!0,mobileScrollSupport:!0,className:"shadow-2xl",ref:i,children:[t.jsx(Zt,{}),xe.map((r,o)=>t.jsx(Ut,{number:o+1,image:r},o)),t.jsx(Xt,{})]})}),t.jsxs("div",{className:"mt-24 flex flex-col items-center gap-4 relative z-20",children:[t.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"← Arrastra las esquinas para leer →"}),t.jsx("button",{onClick:n,className:"px-6 py-2 bg-[#FFD700] text-[#3E2723] font-serif font-bold rounded-full shadow-lg hover:bg-amber-400 transition-colors duration-300 text-sm",children:"Regresar a la Portada"})]})]})}function Jt(){const i=Array.from({length:29},(g,m)=>`/fotos historicas/historia_${m+1}.webp`),n=i.slice(0,10),r=i.slice(10,20),o=i.slice(20,29),l=[n,r,o],d=i.slice(0,10);return t.jsxs("section",{id:"historical-gallery",className:"py-24 bg-neutral-900 relative overflow-hidden",children:[t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-amber-50 mb-6",children:"Memoria Visual"}),t.jsx("p",{className:"text-neutral-300 text-lg",children:"Un recorrido fotográfico por los momentos que han marcado nuestra historia."})]}),t.jsxs("div",{className:"md:hidden flex flex-col items-center",children:[t.jsx("div",{className:"relative h-[400px] w-full max-w-xs mb-12",children:t.jsx(ue,{randomRotation:!0,sensitivity:180,sendToBackOnClick:!1,autoplay:!1,cards:d.map((g,m)=>t.jsx("div",{className:"w-full h-full relative group",children:t.jsx("img",{src:g,alt:`Foto histórica ${m+1}`,className:"w-full h-full object-cover rounded-2xl shadow-xl"})},`mobile-${m}`))})}),t.jsxs(F,{to:"/galeria",className:"group flex items-center gap-2 text-amber-50 text-lg hover:text-amber-200 transition-colors uppercase tracking-widest text-sm font-light mt-4",children:[t.jsx("span",{children:"Ver galería completa"}),t.jsx("div",{className:"w-8 h-[1px] bg-amber-50 group-hover:bg-amber-200 transition-colors"})]})]}),t.jsx("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-8 max-w-7xl mx-auto items-center justify-center",children:l.map((g,m)=>t.jsx("div",{className:"relative h-[400px] w-full max-w-xs mx-auto",children:t.jsx(ue,{randomRotation:!0,sensitivity:180,sendToBackOnClick:!1,autoplay:!1,autoplayDelay:2500+m*500,animationConfig:{stiffness:200,damping:15},cards:g.map((j,x)=>t.jsxs("div",{className:"w-full h-full relative group",children:[t.jsx("img",{src:j,alt:`Foto histórica ${x+1}`,className:"w-full h-full object-cover rounded-2xl transition-all duration-500 shadow-xl"}),t.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors rounded-2xl"}),t.jsx("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:x+1})]},`${m}-${x}`))})},m))}),t.jsx("p",{className:"hidden md:block text-center text-neutral-500 text-sm mt-20 animate-pulse",children:"Arrastra las fotos para descubrir más"}),t.jsx("div",{className:"hidden md:flex justify-center mt-8",children:t.jsxs(F,{to:"/galeria",className:"group flex items-center gap-2 text-amber-50 text-lg hover:text-amber-200 transition-colors uppercase tracking-widest text-sm font-light",children:[t.jsx("span",{children:"Ver galería completa"}),t.jsx("div",{className:"w-8 h-[1px] bg-amber-50 group-hover:bg-amber-200 transition-colors"})]})})]}),t.jsx(Yt,{})]})}const Qt=[{id:"local_tlacolol",title:"DOCUMENTAL: Hijos del Tlacolol",category:"Documentales",duration:"30:00",thumbnail:"/videos/HijosDelTlacolol.webp",videoSrc:"/videos/DOCUMENTAL. Hijos del Tlacolol 30min.m4v"},{id:"jmNVa1zmnyQ",title:"PROMOCIONAL OFICIAL EDICIÓN BICENTENARIO",category:"Documentales",duration:"02:29"},{id:"QTAKrov9r8M",title:'PROMOCIONAL DOCUMENTAL "LAS RAÍCES DEL TLACOLOLERO"',category:"Documentales",duration:"01:46"}];function Kt(){const[i,n]=v.useState(null);return t.jsxs("section",{className:"py-24 bg-[#0B1520] relative overflow-hidden",children:[t.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"}),t.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-amber-600/10 rounded-full blur-[100px]"})]}),t.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[t.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start mb-12 gap-6",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ye,{className:"text-amber-500 w-5 h-5"}),t.jsx("span",{className:"text-amber-500 font-bold tracking-widest text-xs uppercase",children:"Cine Feria"})]}),t.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-white",children:"Cine Feria"})]})}),t.jsx("div",{className:"flex overflow-x-auto snap-x gap-6 pb-6 scrollbar-hide",children:Qt.map((r,o)=>t.jsxs(b.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:o*.1},viewport:{once:!0},className:"group relative flex-none w-[300px] md:w-[400px] aspect-video rounded-xl overflow-hidden cursor-pointer shadow-lg hover:shadow-blue-900/30 transition-all duration-300 ring-1 ring-white/10 hover:ring-amber-500/50 snap-center",onClick:()=>n(r),children:[t.jsx("img",{src:r.thumbnail||`https://img.youtube.com/vi/${r.id}/maxresdefault.jpg`,alt:r.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-feria-blue/90 rounded-full flex items-center justify-center backdrop-blur-sm group-hover:scale-110 transition-transform duration-300 shadow-xl border border-white/20",children:t.jsx(_e,{className:"w-6 h-6 text-white ml-1",fill:"currentColor"})})}),t.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/90 to-transparent pt-12",children:[t.jsxs("span",{className:"text-amber-400 text-xs font-bold uppercase tracking-wider mb-1 block",children:[r.category," • ",r.duration]}),t.jsx("h3",{className:"text-white font-medium text-lg leading-tight group-hover:text-amber-100 transition-colors",children:r.title})]})]},r.id))}),t.jsxs("div",{className:"mt-16 text-center",children:[t.jsxs(F,{to:"/videos",className:"inline-flex items-center gap-3 px-8 py-4 bg-feria-blue hover:bg-[#0f3a67] text-white font-medium rounded-full transition-all duration-300 shadow-lg hover:shadow-blue-600/30 group border border-white/10",children:[t.jsx("span",{children:"Explora el Catálogo Completo"}),t.jsx(Fe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),t.jsx("p",{className:"mt-4 text-neutral-500 text-sm",children:"Documentales, entrevistas y registros históricos exclusivos."})]})]}),t.jsx(se,{children:i&&t.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 p-4 backdrop-blur-md",onClick:()=>n(null),children:t.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-black rounded-lg overflow-hidden shadow-2xl border border-neutral-800",children:[i.videoSrc?t.jsx("video",{src:i.videoSrc,className:"w-full h-full object-cover",controls:!0,autoPlay:!0,controlsList:"nodownload",onContextMenu:r=>r.preventDefault()}):t.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${i.id}?autoplay=1`,title:i.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx("button",{className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-feria-blue text-white rounded-full transition-colors backdrop-blur-sm",onClick:r=>{r.stopPropagation(),n(null)},children:t.jsx(ve,{size:24})})]})})})]})}const es=[{date:"21 Dic",title:"Paseo del Pendón",location:"Calles Principales",time:"10:00 AM",type:"Tradición"},{date:"24 Dic",title:"Cena de Navidad",location:"Recinto Ferial",time:"08:00 PM",type:"Familiar"},{date:"25 Dic",title:"Danza de Tlacololeros",location:"Plaza de Toros",time:"12:00 PM",type:"Danza"},{date:"31 Dic",title:"Gran Baile de Fin de Año",location:"Teatro del Pueblo",time:"09:00 PM",type:"Música"},{date:"1 Ene",title:"Jaripeo de Año Nuevo",location:"Plaza de Toros",time:"04:00 PM",type:"Jaripeo"},{date:"6 Ene",title:"Clausura",location:"Recinto Ferial",time:"06:00 PM",type:"Ceremonia"}];function ts(){return t.jsx("section",{id:"program",className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx("h2",{className:"text-4xl font-serif text-center mb-12 text-feria-blue",children:"Programa Oficial"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:es.map((i,n)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow border-l-4 border-feria-blue hover:border-feria-gold group",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"bg-feria-blue text-white px-3 py-1 rounded-lg text-center min-w-[60px]",children:[t.jsx("span",{className:"block text-xs font-bold uppercase",children:i.date.split(" ")[1]}),t.jsx("span",{className:"block text-xl font-bold",children:i.date.split(" ")[0]})]}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:i.type})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-feria-blue transition-colors",children:i.title}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ge,{size:16,className:"text-feria-gold"}),t.jsx("span",{children:i.time})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ze,{size:16,className:"text-feria-gold"}),t.jsx("span",{children:i.location})]})]})]},n))})]})})}const Y=[{id:"plaza",title:"PLAZA DE TOROS",subtitle:"Porrazo de tigres, Jaripeo y Eventos Masivos",color:"text-[#84bd00]",bgColor:"bg-[#84bd00]",description:"La legendaria Plaza de Toros Belisario Arteaga, hogar del tradicional Porrazo del Tigre.",mapImage:"/SEDE/Recurso 2.webp",qrLink:"https://goo.gl/maps/examplePlaza",pieceImage:"/SEDE/Recurso 2.webp",position:"top-left"},{id:"terreno",title:"TERRENO",subtitle:"(A UN COSTADO DE LIVERPOOL)",features:["Juegos Mecánicos","Muestra gastronómica","Muestra artesanal"],color:"text-[#e91d63]",bgColor:"bg-[#e91d63]",description:"El nuevo Recinto Ferial. Un espacio amplio para toda la familia.",mapImage:"/SEDE/Recurso 1.webp",qrLink:"https://goo.gl/maps/exampleTerreno",pieceImage:"/SEDE/Recurso 1.webp",position:"right"},{id:"zocalo",title:"ZÓCALO",subtitle:"Teatro del Pueblo",color:"text-[#9c27b0]",bgColor:"bg-[#9c27b0]",description:"El corazón de la ciudad. Cultura, música y tradición en la plaza cívica.",mapImage:"/SEDE/Recurso 3.webp",qrLink:"https://goo.gl/maps/exampleZocalo",pieceImage:"/SEDE/Recurso 3.webp",position:"bottom-left"}];function ss(){const[i,n]=v.useState(null);return t.jsxs("section",{id:"location",className:"py-12 md:py-20 bg-[#0B1520] relative overflow-hidden min-h-[800px] flex items-center",children:[t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 md:w-20 bg-contain bg-repeat-y opacity-30 z-0",style:{backgroundImage:"url(/ELEMENTOS/GRECAS.webp)"}}),t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 md:w-20 bg-contain bg-repeat-y opacity-30 z-0",style:{backgroundImage:"url(/ELEMENTOS/GRECAS.webp)"}}),t.jsx("div",{className:"container mx-auto px-4 relative z-10",children:t.jsx(se,{mode:"wait",children:i?t.jsxs(b.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"max-w-6xl mx-auto w-full",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-6",children:[t.jsxs("button",{onClick:()=>n(null),className:"flex items-center gap-2 text-white/80 hover:text-white bg-white/10 px-4 py-2 rounded-full transition-all hover:bg-white/20",children:[t.jsx($e,{size:20}),t.jsx("span",{children:"Volver al mapa"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:`${i.color} font-black text-3xl md:text-5xl uppercase tracking-wider drop-shadow-sm`,children:i.title}),t.jsx("p",{className:"text-white font-serif italic text-xl md:text-2xl mt-1",children:i.subtitle})]}),t.jsx("div",{className:"w-32 hidden md:block"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 items-stretch",children:[t.jsxs("div",{className:"md:col-span-7 relative group",children:[t.jsx("div",{className:"absolute inset-0 bg-white/30 transform rotate-1 rounded-3xl blur-lg"}),t.jsx("div",{className:"bg-[#e8f5e9] rounded-3xl overflow-hidden p-3 shadow-2xl relative z-10 border-4 border-white transform hover:scale-[1.01] transition-transform duration-500",children:t.jsxs("div",{className:"relative w-full aspect-[4/3] rounded-2xl overflow-hidden shadow-inner bg-[#a5d6a7]",children:[t.jsx("iframe",{title:"Mapa Sede",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3775.312961808092!2d-99.4993!3d17.5506!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTfCsDMzJzAyLjIiTiA5OcKwMjknNTcuNSJX!5e0!3m2!1ses-419!2smx!4v1634567890123!5m2!1ses-419!2smx",width:"100%",height:"100%",className:"w-full h-full opacity-90 contrast-[1.1] saturate-[0.8] mix-blend-multiply",style:{border:0},allowFullScreen:"",loading:"lazy"}),t.jsx("div",{className:"absolute top-0 right-0 p-4",children:t.jsx("span",{className:`${i.bgColor} text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg border-2 border-white`,children:"VISTA SATELITAL DISPONIBLE"})})]})})]}),t.jsxs("div",{className:"md:col-span-5 flex flex-col justify-between space-y-8 bg-white/5 p-8 rounded-3xl border border-white/10 backdrop-blur-md",children:[t.jsxs("div",{className:"space-y-4",children:[i.features&&t.jsx("ul",{className:"space-y-2",children:i.features.map((r,o)=>t.jsxs("li",{className:"text-white text-lg flex items-center gap-2",children:[t.jsx("span",{className:"text-feria-gold",children:"★"})," ",r]},o))}),t.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:i.description})]}),t.jsx("div",{className:"relative mt-4 flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center bg-white p-6 rounded-2xl shadow-xl transform rotate-1 hover:rotate-0 transition-transform duration-300 w-full max-w-sm border-b-8 border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-[#e91d63] text-white font-bold text-lg px-4 py-2 rounded-full mb-4 shadow-md w-full justify-center",children:[t.jsx("span",{children:"📍"})," ESCANEA LA UBICACIÓN"]}),t.jsx("div",{className:"p-2 bg-white rounded-xl",children:t.jsx(Qe,{size:160,className:"text-[#0B1520]"})}),t.jsx("p",{className:"text-center text-gray-400 text-xs mt-3 font-medium",children:"Abre la cámara de tu celular"})]})})]})]})]},"detail"):t.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},className:"flex flex-col items-center justify-center",children:[t.jsx("div",{className:"bg-[#e91d63] text-white font-bold text-2xl md:text-4xl py-2 px-6 rounded-lg -rotate-2 mb-8 shadow-lg transform hover:scale-105 transition-transform cursor-default inline-block",children:"¿YA SABES A"}),t.jsx("div",{className:"bg-[#84bd00] text-white font-extrabold text-4xl md:text-6xl py-2 px-10 rounded-lg rotate-1 mb-16 shadow-xl transform hover:scale-105 transition-transform cursor-default inline-block",children:"DÓNDE IR?"}),t.jsxs("div",{className:"relative w-[340px] h-[340px] md:w-[500px] md:h-[500px]",children:[t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30 w-44 md:w-56 pointer-events-none drop-shadow-2xl",children:t.jsx("img",{src:"/SEDE/LA FERIA ES DE TODOS.webp",alt:"La Feria es de Todos",className:"w-full"})}),t.jsx(b.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute top-[0%] right-[0%] w-[65%] h-[65%] cursor-pointer z-10",onClick:()=>n(Y[0]),children:t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("img",{src:"/SEDE/Recurso 5.webp",className:"absolute inset-0 w-full h-full object-contain drop-shadow-lg",alt:"Fondo Plaza"}),t.jsx("img",{src:"/SEDE/PLAZA DE TOROS_Mesa de trabajo 1.webp",className:"absolute top-[35%] left-[30%] w-[45%] object-contain drop-shadow-md",alt:"Plaza de Toros Icon"})]})}),t.jsx(b.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute bottom-[2%] left-[2%] w-[65%] h-[65%] cursor-pointer z-0",onClick:()=>n(Y[1]),children:t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("img",{src:"/SEDE/Recurso 4.webp",className:"absolute inset-0 w-full h-full object-contain drop-shadow-lg",alt:"Fondo Terreno"}),t.jsx("img",{src:"/SEDE/Recurso 3.webp",className:"absolute bottom-[35%] right-[30%] w-[50%] object-contain drop-shadow-md",alt:"Terreno Icon"})]})}),t.jsx(b.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute bottom-[2%] right-[5%] w-[50%] h-[50%] cursor-pointer z-20",onClick:()=>n(Y[2]),children:t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("img",{src:"/SEDE/Recurso 6.webp",className:"absolute inset-0 w-full h-full object-contain drop-shadow-lg",alt:"Fondo Zócalo"}),t.jsx("img",{src:"/SEDE/Recurso 1.webp",className:"absolute bottom-[25%] right-[25%] w-[60%] object-contain drop-shadow-md",alt:"Teatro del Pueblo Icon"})]})})]}),t.jsx("p",{className:"mt-8 text-white/50 text-sm animate-pulse",children:"Toca una pieza para ver la ubicación"})]},"selection")})})]})}function hs(){const i=Ce();return v.useLayoutEffect(()=>{document.body.style.overflow="auto",document.documentElement.style.overflow="auto",document.body.style.position="static"},[]),v.useEffect(()=>{if(i.hash){const n=i.hash.replace("#","");setTimeout(()=>{const r=document.getElementById(n);if(r){const d=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:d,behavior:"smooth"})}},100)}else window.scrollTo(0,0)},[i]),t.jsxs("div",{className:"min-h-screen flex flex-col relative bg-slate-50 font-sans",children:[t.jsx(Ie,{}),t.jsxs("main",{className:"flex-grow",children:[t.jsx(Dt,{}),t.jsxs("div",{className:"relative z-10 bg-slate-50",children:[t.jsx(zt,{}),t.jsx(Ht,{}),t.jsx(Jt,{}),t.jsx(Kt,{}),t.jsx(ts,{}),t.jsx(ss,{})]})]}),t.jsx(Te,{})]})}export{hs as default};
